diff --git a/api/Dockerfile b/api/Dockerfile
index 7e4997507f..c92526d0fc 100644
--- a/api/Dockerfile
+++ b/api/Dockerfile
@@ -31,6 +31,7 @@ ENV CONSOLE_API_URL=http://127.0.0.1:5001
 ENV CONSOLE_WEB_URL=http://127.0.0.1:3000
 ENV SERVICE_API_URL=http://127.0.0.1:5001
 ENV APP_WEB_URL=http://127.0.0.1:3000
+ENV SECRET_KEY=Cj7R6c4W/mjGqZGfLA9ZcR6oP01KOAz/qtVTAPi8Vao5Hg6nx5BKra5z
 
 EXPOSE 5001
 
diff --git a/api/pyproject.toml b/api/pyproject.toml
index 420bc771b6..cc88533c0b 100644
--- a/api/pyproject.toml
+++ b/api/pyproject.toml
@@ -13,6 +13,7 @@ dependencies = [
     "cachetools~=5.3.0",
     "celery~=5.5.2",
     "chardet~=5.1.0",
+    "firebase-admin~=6.5.0",
     "flask~=3.1.0",
     "flask-compress~=1.17",
     "flask-cors~=6.0.0",
diff --git a/docker/docker-compose.yaml b/docker/docker-compose.yaml
index 647af62d96..68b5996520 100644
--- a/docker/docker-compose.yaml
+++ b/docker/docker-compose.yaml
@@ -518,7 +518,11 @@ x-shared-env: &shared-api-worker-env
 services:
   # API service
   api:
-    image: langgenius/dify-api:1.6.0
+    # image: langgenius/dify-api:1.6.0
+    build:
+      context: ../api
+      dockerfile: Dockerfile 
+    image: dify-api:local 
     restart: always
     environment:
       # Use the shared environment variables.
@@ -532,6 +536,13 @@ services:
       PLUGIN_REMOTE_INSTALL_PORT: ${EXPOSE_PLUGIN_DEBUGGING_PORT:-5003}
       PLUGIN_MAX_PACKAGE_SIZE: ${PLUGIN_MAX_PACKAGE_SIZE:-52428800}
       INNER_API_KEY_FOR_PLUGIN: ${PLUGIN_DIFY_INNER_API_KEY:-QaHbTe77CtuXmsfyhR7+vRjI/+XbV1AaFy691iy+kGDv2Jvy0/eAh8Y1}
+      # FIRESTORE_EMULATOR_HOST: host.docker.internal:8081
+      # FIREBASE_AUTH_EMULATOR_HOST: host.docker.internal:9099 # For Firebase Auth
+      # FIREBASE_FUNCTIONS_EMULATOR_HOST: host.docker.internal:5002 # For Firebase Functions
+      # FIREBASE_DATABASE_EMULATOR_HOST: host.docker.internal:9000 # For Firebase Realtime DB
+      # FIREBASE_HOSTING_EMULATOR_HOST: host.docker.internal:5003 # For Firebase Hosting
+      # FIREBASE_PUBSUB_EMULATOR_HOST: host.docker.internal:8085 # For Firebase PubSub
+
     depends_on:
       db:
         condition: service_healthy
@@ -543,6 +554,14 @@ services:
     networks:
       - ssrf_proxy_network
       - default
+    # ports:
+    #   - "5002:5002" # Functions Emulator
+    #   - "8081:8081" # Firestore Emulator
+    #   - "5003:5003" # Hosting Emulator
+    #   - "9099:9099" # Auth Emulator
+    #   - "9000:9000" # Database Emulator
+    #   - "8085:8085" # PubSub Emulator
+
 
   # worker service
   # The Celery worker for processing the queue.
@@ -573,7 +592,11 @@ services:
 
   # Frontend web application.
   web:
-    image: langgenius/dify-web:1.6.0
+    # image: langgenius/dify-web:1.6.0
+    build:
+      context: ../web
+      dockerfile: Dockerfile 
+    image: dify-web:local 
     restart: always
     environment:
       CONSOLE_API_URL: ${CONSOLE_API_URL:-}
@@ -1232,4 +1255,4 @@ networks:
 
 volumes:
   oradata:
-  dify_es01_data:
+  dify_es01_data:
\ No newline at end of file
